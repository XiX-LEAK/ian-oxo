<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Syst√®me d'affichage des d√©tails d'agent</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @keyframes slideIn {
            from { opacity: 0; transform: translateY(-20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        
        .modal-enter {
            animation: fadeIn 0.3s ease-out;
        }
        
        .modal-content-enter {
            animation: slideIn 0.3s ease-out;
        }
        
        .platform-icon {
            width: 24px;
            height: 24px;
            border-radius: 50%;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
            font-weight: bold;
            color: white;
        }
        
        .instagram { background: linear-gradient(45deg, #f09433, #e6683c, #dc2743, #cc2366, #bc1888); }
        .whatsapp { background: #25d366; }
        .telegram { background: #0088cc; }
        .wechat { background: #7bb32e; }
        .tiktok { background: #000000; }
        .discord { background: #5865f2; }
    </style>
</head>
<body class="bg-gray-100 min-h-screen p-4">
    <div class="max-w-6xl mx-auto">
        <h1 class="text-3xl font-bold text-gray-900 mb-8 text-center">
            üéØ Syst√®me d'affichage des d√©tails d'agent
        </h1>
        
        <!-- Grille des agents -->
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6" id="agentsGrid">
            <!-- Les agents seront g√©n√©r√©s ici -->
        </div>
    </div>

    <!-- Modal de d√©tails -->
    <div id="agentModal" class="fixed inset-0 bg-black bg-opacity-50 hidden z-50 modal-enter">
        <div class="flex items-center justify-center min-h-screen p-4">
            <div class="bg-white rounded-xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto modal-content-enter">
                <!-- Header du modal -->
                <div class="flex items-center justify-between p-6 border-b border-gray-200 bg-gradient-to-r from-blue-50 to-purple-50">
                    <div class="flex items-center space-x-4">
                        <div id="modalInitial" class="w-16 h-16 rounded-full bg-gradient-to-r from-blue-500 to-purple-600 flex items-center justify-center text-white text-2xl font-bold">
                        </div>
                        <div>
                            <h2 id="modalName" class="text-2xl font-bold text-gray-900"></h2>
                            <div class="flex items-center space-x-2 mt-1">
                                <span id="modalPlatform" class="platform-icon"></span>
                                <span id="modalStatus" class="px-3 py-1 rounded-full text-sm font-medium"></span>
                            </div>
                        </div>
                    </div>
                    <button onclick="closeModal()" class="p-2 hover:bg-gray-100 rounded-full transition-colors">
                        <svg class="w-6 h-6 text-gray-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                        </svg>
                    </button>
                </div>

                <!-- Contenu du modal -->
                <div class="p-6 space-y-6">
                    <!-- Informations de base -->
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        <div class="bg-gray-50 p-4 rounded-lg">
                            <h3 class="font-semibold text-gray-900 mb-2 flex items-center">
                                <span class="mr-2">üè∑Ô∏è</span> Cat√©gorie
                            </h3>
                            <p id="modalCategory" class="text-gray-700"></p>
                        </div>
                        
                        <div class="bg-gray-50 p-4 rounded-lg">
                            <h3 class="font-semibold text-gray-900 mb-2 flex items-center">
                                <span class="mr-2">üåç</span> Langues
                            </h3>
                            <div id="modalLanguages" class="flex flex-wrap gap-2"></div>
                        </div>
                    </div>

                    <!-- Section Contact (conditionnelle) -->
                    <div id="contactSection" class="bg-blue-50 border border-blue-200 rounded-lg p-6">
                        <h3 class="font-semibold text-gray-900 mb-4 flex items-center text-lg">
                            <span class="mr-2">üìû</span> Informations de contact
                        </h3>
                        <div id="contactInfo" class="space-y-4">
                            <!-- Le contenu sera g√©n√©r√© dynamiquement -->
                        </div>
                    </div>

                    <!-- Message si pas de contact -->
                    <div id="noContactMessage" class="hidden bg-gray-50 border border-gray-200 rounded-lg p-6 text-center">
                        <div class="text-gray-400 text-6xl mb-4">üì≠</div>
                        <p class="text-gray-600 text-lg">Aucune information de contact disponible</p>
                        <p class="text-gray-500 text-sm mt-2">Cet agent n'a pas encore partag√© ses coordonn√©es</p>
                    </div>
                </div>

                <!-- Footer du modal -->
                <div class="px-6 py-4 bg-gray-50 border-t border-gray-200 flex justify-end">
                    <button onclick="closeModal()" class="px-6 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors">
                        Fermer
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Donn√©es d'exemple des agents
        const agents = [
            {
                id: 1,
                name: "Home Decor Studio",
                initial: "H",
                status: "active",
                platform: "instagram",
                category: "Maison & Jardin",
                languages: ["Fran√ßais", "Italien"],
                contact: {
                    email: "contact@homedecor.com",
                    website: "https://homedecor-studio.com"
                }
            },
            {
                id: 2,
                name: "Tech Expert Pro",
                initial: "T",
                status: "active",
                platform: "whatsapp",
                category: "√âlectronique",
                languages: ["Fran√ßais", "Anglais"],
                contact: {
                    email: "tech@expert.com"
                    // Pas de website
                }
            },
            {
                id: 3,
                name: "Fashion Advisor",
                initial: "F",
                status: "inactive",
                platform: "telegram",
                category: "Mode",
                languages: ["Fran√ßais"],
                contact: {
                    website: "https://fashion-advisor.fr"
                    // Pas d'email
                }
            },
            {
                id: 4,
                name: "Auto Specialist",
                initial: "A",
                status: "active",
                platform: "wechat",
                category: "Automobile",
                languages: ["Fran√ßais", "Chinois"],
                contact: {
                    // Aucun contact
                }
            },
            {
                id: 5,
                name: "Beauty Guru",
                initial: "B",
                status: "active",
                platform: "tiktok",
                category: "Beaut√©",
                languages: ["Fran√ßais", "Anglais", "Espagnol"],
                contact: {
                    email: "beauty@guru.com",
                    website: "https://beauty-guru.net"
                }
            },
            {
                id: 6,
                name: "Gaming Zone",
                initial: "G",
                status: "active",
                platform: "discord",
                category: "Jeux",
                languages: ["Fran√ßais"],
                contact: {
                    // Aucun contact
                }
            }
        ];

        // Configuration des plateformes
        const platformConfig = {
            instagram: { name: "Instagram", icon: "IG", class: "instagram" },
            whatsapp: { name: "WhatsApp", icon: "WA", class: "whatsapp" },
            telegram: { name: "Telegram", icon: "TG", class: "telegram" },
            wechat: { name: "WeChat", icon: "WC", class: "wechat" },
            tiktok: { name: "TikTok", icon: "TT", class: "tiktok" },
            discord: { name: "Discord", icon: "DC", class: "discord" }
        };

        // V√©rifier si un agent a des informations de contact
        function hasContactInfo(agent) {
            return agent.contact && (agent.contact.email || agent.contact.website);
        }

        // G√©n√©rer les cartes d'agents
        function generateAgentCards() {
            const grid = document.getElementById('agentsGrid');
            
            agents.forEach(agent => {
                const hasContact = hasContactInfo(agent);
                const platformInfo = platformConfig[agent.platform] || { name: agent.platform, icon: "?", class: "bg-gray-500" };
                
                const card = document.createElement('div');
                card.className = 'bg-white rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1';
                
                card.innerHTML = `
                    <div class="p-6">
                        <!-- Header de la carte -->
                        <div class="flex items-center justify-between mb-4">
                            <div class="flex items-center space-x-3">
                                <div class="w-12 h-12 rounded-full bg-gradient-to-r from-blue-500 to-purple-600 flex items-center justify-center text-white font-bold text-lg">
                                    ${agent.initial}
                                </div>
                                <div>
                                    <h3 class="font-bold text-gray-900 text-lg">${agent.name}</h3>
                                    <div class="flex items-center space-x-2">
                                        <span class="platform-icon ${platformInfo.class}">${platformInfo.icon}</span>
                                        <span class="text-sm text-gray-600">${platformInfo.name}</span>
                                    </div>
                                </div>
                            </div>
                            <span class="px-3 py-1 rounded-full text-xs font-medium ${
                                agent.status === 'active' 
                                    ? 'bg-green-100 text-green-800' 
                                    : 'bg-gray-100 text-gray-800'
                            }">
                                ${agent.status === 'active' ? 'Actif' : 'Inactif'}
                            </span>
                        </div>

                        <!-- Informations -->
                        <div class="space-y-2 mb-4">
                            <p class="text-sm text-gray-600">
                                <span class="font-medium">Cat√©gorie:</span> ${agent.category}
                            </p>
                            <p class="text-sm text-gray-600">
                                <span class="font-medium">Langues:</span> ${agent.languages.join(', ')}
                            </p>
                        </div>

                        <!-- Bouton Voir (conditionnel) -->
                        ${hasContact ? `
                            <button 
                                onclick="openModal(${agent.id})" 
                                class="w-full bg-gradient-to-r from-blue-500 to-purple-600 text-white py-3 px-4 rounded-lg font-medium hover:from-blue-600 hover:to-purple-700 transition-all duration-200 flex items-center justify-center space-x-2 shadow-md hover:shadow-lg"
                            >
                                <span>üëÅÔ∏è</span>
                                <span>Voir les d√©tails</span>
                            </button>
                        ` : `
                            <div class="w-full bg-gray-100 text-gray-500 py-3 px-4 rounded-lg font-medium text-center border border-gray-200">
                                <span class="flex items-center justify-center space-x-2">
                                    <span>üì≠</span>
                                    <span>Pas de contact disponible</span>
                                </span>
                            </div>
                        `}
                    </div>
                `;
                
                grid.appendChild(card);
            });
        }

        // Ouvrir le modal
        function openModal(agentId) {
            const agent = agents.find(a => a.id === agentId);
            if (!agent) return;

            const modal = document.getElementById('agentModal');
            const platformInfo = platformConfig[agent.platform] || { name: agent.platform, icon: "?", class: "bg-gray-500" };

            // Remplir les informations de base
            document.getElementById('modalInitial').textContent = agent.initial;
            document.getElementById('modalName').textContent = agent.name;
            document.getElementById('modalCategory').textContent = agent.category;
            
            // Plateforme
            const platformElement = document.getElementById('modalPlatform');
            platformElement.textContent = platformInfo.icon;
            platformElement.className = `platform-icon ${platformInfo.class}`;
            
            // Statut
            const statusElement = document.getElementById('modalStatus');
            statusElement.textContent = agent.status === 'active' ? 'Actif' : 'Inactif';
            statusElement.className = `px-3 py-1 rounded-full text-sm font-medium ${
                agent.status === 'active' 
                    ? 'bg-green-100 text-green-800' 
                    : 'bg-gray-100 text-gray-800'
            }`;

            // Langues
            const languagesElement = document.getElementById('modalLanguages');
            languagesElement.innerHTML = agent.languages.map(lang => 
                `<span class="px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm font-medium">${lang}</span>`
            ).join('');

            // Informations de contact
            const contactSection = document.getElementById('contactSection');
            const noContactMessage = document.getElementById('noContactMessage');
            const contactInfo = document.getElementById('contactInfo');

            if (hasContactInfo(agent)) {
                contactSection.classList.remove('hidden');
                noContactMessage.classList.add('hidden');
                
                let contactHTML = '';
                
                if (agent.contact.email) {
                    contactHTML += `
                        <div class="flex items-center space-x-3 p-4 bg-white rounded-lg border border-blue-200">
                            <div class="text-2xl">‚úâÔ∏è</div>
                            <div class="flex-1">
                                <p class="font-medium text-gray-900">Email</p>
                                <a href="mailto:${agent.contact.email}" class="text-blue-600 hover:text-blue-800 hover:underline transition-colors">
                                    ${agent.contact.email}
                                </a>
                            </div>
                        </div>
                    `;
                }
                
                if (agent.contact.website) {
                    contactHTML += `
                        <div class="flex items-center space-x-3 p-4 bg-white rounded-lg border border-blue-200">
                            <div class="text-2xl">üåê</div>
                            <div class="flex-1">
                                <p class="font-medium text-gray-900">Site web</p>
                                <a href="${agent.contact.website}" target="_blank" rel="noopener noreferrer" class="text-blue-600 hover:text-blue-800 hover:underline transition-colors">
                                    ${agent.contact.website}
                                </a>
                            </div>
                        </div>
                    `;
                }
                
                contactInfo.innerHTML = contactHTML;
            } else {
                contactSection.classList.add('hidden');
                noContactMessage.classList.remove('hidden');
            }

            // Afficher le modal
            modal.classList.remove('hidden');
            document.body.style.overflow = 'hidden';
        }

        // Fermer le modal
        function closeModal() {
            const modal = document.getElementById('agentModal');
            modal.classList.add('hidden');
            document.body.style.overflow = 'auto';
        }

        // Fermer le modal en cliquant √† l'ext√©rieur
        document.getElementById('agentModal').addEventListener('click', function(e) {
            if (e.target === this) {
                closeModal();
            }
        });

        // Fermer le modal avec Escape
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape') {
                closeModal();
            }
        });

        // Initialiser l'interface
        generateAgentCards();
    </script>
</body>
</html>